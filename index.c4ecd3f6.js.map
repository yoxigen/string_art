{"mappings":"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","sources":["src/scripts/Nails.js","src/scripts/StringArt.js","src/scripts/string_art_types/Spirals.js","src/scripts/string_art_types/Circle.js","src/scripts/string_art_types/Eye.js","src/scripts/pattern_types.js","src/scripts/string_art_types/TimesTables.js","src/scripts/string_art_types/Spiral.js","src/scripts/string_art_types/Star.js","src/scripts/main.js","src/scripts/Player.js"],"sourcesContent":["const PI2 = Math.PI * 2;\n\nexport default class Nails {\n    constructor(canvas, config) {\n        this.context = canvas.getContext(\"2d\");\n        this.setConfig(config);\n        this.nails = [];\n    }\n\n    setConfig({ nailRadius, darkMode}) {\n        this.nailRadius = nailRadius;\n        this.nailsColor = darkMode ? '#ffffff' : '#000000';\n        this.nails = [];\n    }\n\n    // Adds a nail to be rendered. nail: { point, number }\n    addNail(nail) {\n        this.nails.push(nail);\n    }\n\n    fill() {\n        this.context.globalCompositeOperation = \"source-over\";\n        this.context.beginPath();\n        this.nails.forEach(({ point: [x, y] }) => {\n            this.context.moveTo(x + this.nailRadius, y);\n            this.context.arc(x, y, this.nailRadius, 0, PI2)\n        });\n\n        this.context.fillStyle = this.nailsColor;\n        this.context.fill();\n\n        this.nails = [];\n    }\n}","import Nails from \"./Nails.js\";\n\nconst COMMON_CONFIG_CONTROLS = [\n    {\n        key: 'general',\n        label: 'General',\n        type: 'group',\n        children: [\n            {\n                key: 'showStrings',\n                label: 'Show strings',\n                defaultValue: true,\n                type: \"checkbox\",\n                isDisabled: ({showNails}) => !showNails\n            },\n            {\n                key: 'showNails',\n                label: 'Show nails',\n                defaultValue: true,\n                type: \"checkbox\",\n                isDisabled: ({showStrings}) => !showStrings\n            },\n            {\n                key: 'nailRadius',\n                label: 'Nail size',\n                defaultValue: 1,\n                type: \"range\",\n                attr: {\n                    min: 1,\n                    max: 5,\n                    step: 1\n                },\n                show: ({showNails}) => showNails\n            },\n            {\n                key: 'stringWidth',\n                label: 'String width',\n                defaultValue: 1,\n                type: \"range\",\n                attr: {\n                    min: 1,\n                    max: 4,\n                    step: 0.2\n                }\n            }\n        ]\n    },\n    {\n        key: 'theme',\n        label: 'Theme',\n        type: 'group',\n        children: [\n            {\n                key: 'darkMode',\n                label: 'Dark mode',\n                defaultValue: true,\n                type: 'checkbox'\n            },\n            {\n                key: 'customBackgroundColor',\n                label: 'Custom background color',\n                defaultValue: false,\n                type: 'checkbox',\n            },\n            {\n                key: 'backgroundColor',\n                label: 'Background color',\n                defaultValue: '#222222',\n                type: 'color',\n                show: ({customBackgroundColor}) => customBackgroundColor\n            },\n        ]\n    }\n];\n\nclass StringArt {\n    constructor(canvas) {\n        if (!canvas) {\n            throw new Error(\"Canvas not specified!\");\n        }\n\n        this.canvas = canvas;\n        this.ctx = this.canvas.getContext(\"2d\");\n        const dpr = window.devicePixelRatio || 1;\n        const bsr = this.ctx.webkitBackingStorePixelRatio ||\n            this.ctx.mozBackingStorePixelRatio ||\n            this.ctx.msBackingStorePixelRatio ||\n            this.ctx.oBackingStorePixelRatio ||\n            this.ctx.backingStorePixelRatio || 1;\n        this.pixelRatio = dpr / bsr;\n    }\n\n    get configControls() {\n        return (this.controls ?? []).concat(COMMON_CONFIG_CONTROLS);\n    }\n\n    get defaultConfig() {\n        if (!this._defaultConfig) {\n            this._defaultConfig = flattenConfig(this.configControls);\n        }\n\n        return this._defaultConfig;\n    }\n\n    get config() {\n        return this._config ?? this.defaultConfig;\n    }\n\n    set config(value) {\n        this._config = Object.assign({}, this.defaultConfig, value);\n    }\n\n    setUpDraw() {\n        this.canvas.removeAttribute('width');\n        this.canvas.removeAttribute('height');\n\n        const canvasScreenSize = [this.canvas.clientWidth, this.canvas.clientHeight];\n        const [width, height] = this.size = canvasScreenSize.map(v => v * this.pixelRatio);\n        Object.assign(this, this.size);\n        this.canvas.setAttribute('width', width);\n        this.canvas.setAttribute('height', height);\n        this.center = this.size.map(value => value / 2);\n\n        if (this.nails) {\n            this.nails.setConfig(this.config);\n        } else {\n            this.nails = new Nails(this.canvas, this.config);\n        }\n\n        this.ctx.clearRect(0, 0, ...this.size);\n        this.ctx.lineWidth = this.config.stringWidth;\n    }\n\n    afterDraw() {\n        if (this.config.showNails) {\n            this.drawNails();\n            this.nails.fill();\n        }\n    }\n\n    initDraw() {\n        this.setUpDraw(this.config);\n        const { showNails, darkMode, backgroundColor, customBackgroundColor } = this.config;\n\n        this.ctx.beginPath();\n        this.ctx.globalCompositeOperation = 'destination-over';\n        this.ctx.fillStyle = customBackgroundColor ? backgroundColor : this.config.darkMode ? '#222222' : '#ffffff';\n        this.ctx.fillRect(0, 0, ...this.size);\n\n        this.ctx.globalCompositeOperation = 'source-over';\n        if (showNails) {\n            this.drawNails();\n            this.nails.fill();\n        }\n    }\n\n    /**\n     * Draws the string art on canvas\n     * @param { step: number } renderConfig configuration for rendering. Accepts the step to render (leave undefined or null to render all)\n     */\n    draw({position = Infinity} = {}) {\n        this.initDraw();\n        const { showStrings } = this.config;\n\n        if (showStrings) {\n            this.stringsIterator = this.generateStrings();\n            this.position = 0;\n\n            while(!this.drawNext().done && this.position < position);\n            this.afterDraw();\n        }\n    }\n\n    goto(position) {\n        if (position === this.position) {\n            return;\n        }\n\n        if (this.stringsIterator && position > this.position) {\n            while(!this.drawNext().done && this.position < position);\n            this.afterDraw();\n        } else {\n            this.draw({ position });\n        }\n    }\n\n    drawNext() {\n        const result = this.stringsIterator.next();\n\n        if (result.done) {\n            this.afterDraw();\n        } else {\n            this.position++;\n        }\n\n        return result;\n    }\n\n    generateStrings(config) {\n        throw new Error(\"generateStrings method not defined!\");\n    }\n\n    getStepCount(config) {\n        throw new Error(`'getStepCount' method not implemented for string art type \"${this.name}\"`);\n    }\n}\n\nfunction flattenConfig(configControls) {\n    return configControls.reduce((config, {key, defaultValue, children}) =>\n        children ? {\n            ...config,\n            ...flattenConfig(children)\n        } : {\n            ...config,\n            [key]: defaultValue\n        },\n    {});\n}\n\nexport default StringArt;\n","import StringArt from \"../StringArt.js\";\n\nclass Spirals extends StringArt{\n    name = \"Spirals\";\n    id = \"spirals\";\n    link = \"https://www.etsy.com/il-en/listing/974865185/3d-string-art-spiral-mandala-wall?ref=shop_home_active_10&frs=1\";\n    controls = [\n        {\n            key: 'n',\n            label: 'Number of nails',\n            defaultValue: 92,\n            type: \"range\",\n            attr: {\n                min: 3,\n                max: 200,\n                step: 1\n            }\n        },\n        {\n            key: 'radiusIncrease',\n            label: 'Size',\n            defaultValue: 3,\n            type: \"range\",\n            attr: {\n                min: 1,\n                max: 20,\n                step: 0.2\n            }\n        },\n        {\n            key: 'angleStep',\n            label: 'Angle step',\n            defaultValue: 0.05,\n            type: \"range\",\n            attr: {\n                min: 0.01,\n                max: 1,\n                step: 0.01,\n            }\n        },\n        {\n            key: 'nSpirals',\n            label: 'Number of spirals',\n            defaultValue: 3,\n            type: \"range\",\n            attr: {\n                min: 1,\n                max: 20,\n                step: 1\n            }\n        },\n        {\n            key: 'color',\n            label: 'String color',\n            defaultValue: \"#00ddff\",\n            type: \"color\",\n        }\n    ];\n    \n    *generatePoints() {\n        const {\n            n, radiusIncrease, angleStep, nSpirals,\n        } = this.config;\n        \n        let currentRadius = 0;\n        let angle = 0;\n        const [centerx, centery] = this.center;\n\n        for (let i = 0; i < n; i++) {\n            for (let s = 0; s < nSpirals; s++) {\n                const rotation = s * 2 * Math.PI / nSpirals;\n                const point = [\n                    centerx + currentRadius * Math.sin(angle + rotation),\n                    centery + currentRadius * Math.cos(angle + rotation)\n                ];\n                yield point;\n            }\n            \n            angle += angleStep;\n            currentRadius += radiusIncrease;\n        }\n    }\n\n    *generateStrings() {\n        const points = this.generatePoints();\n        let index = 0;\n        this.ctx.beginPath();\n        this.ctx.moveTo(...this.center);\n        this.ctx.strokeStyle = this.config.color;\n\n        let lastPoint = this.center;\n\n        for (const point of points) {\n            this.ctx.beginPath();\n            this.ctx.moveTo(...lastPoint);\n            lastPoint = point;\n            this.ctx.lineTo(...point);\n            this.ctx.strokeStyle = this.config.color;\n            this.ctx.stroke();\n            yield index++;\n        }\n    }\n\n    getStepCount() {\n        const { n, nSpirals } = this.config;\n        return n * nSpirals;\n    }\n\n    drawNails() {\n        const points = this.generatePoints();\n        let index = 0;\n        for (const point of points) {\n            this.nails.addNail({point, number: `${index++}`});\n        }\n    }\n}\n\nexport default Spirals;","const PI2 = Math.PI * 2;\n\nexport default class Circle {\n    constructor(config) {\n        const { n, size, margin = 0, rotation = 0, center } = this.config = config;\n        \n        this.center = center ?? size.map(v => v / 2);\n        this.radius = Math.min(...this.center) - margin;\n\n        this.indexAngle = PI2 / n;\n        this.rotationAngle = -PI2 * rotation;\n    }\n\n    getPoint(index = 0) {\n        return [\n            this.center[0] + Math.sin(index * this.indexAngle + this.rotationAngle) * this.radius,\n            this.center[1] + Math.cos(index * this.indexAngle + this.rotationAngle) * this.radius\n        ];\n    }\n\n    drawNails(nails) {\n        for (let i=0; i < this.config.n; i++) {\n            nails.addNail({point: this.getPoint(i)});\n        }\n    }\n}","import StringArt from \"../StringArt.js\";\n\nconst MARGIN = 20;\nconst SIDES = ['left', 'bottom', 'right', 'top'];\nconst SIDES_ORDER = ['left', 'bottom', 'right', 'top'];\n\nconst SIDES_ROTATION = {\n    left: 0,\n    bottom: Math.PI / 2,\n    right: Math.PI,\n    top: Math.PI * 1.5\n};\n\nclass Eye extends StringArt{\n    name = \"Eye\"\n    id = \"eye\"\n    link = \"https://www.etsy.com/listing/489853161/rose-of-space-string-art-sacred-geometry?ga_order=most_relevant&ga_search_type=all&ga_view_type=gallery&ga_search_query=string+art&ref=sr_gallery_1&epik=dj0yJnU9WXNpM1BDTnNkLVBtcWdCa3AxN1J5QUZRY1FlbkJ5Z18mcD0wJm49ZXdJb2JXZmVpNVVwN1NKQ3lXMy10ZyZ0PUFBQUFBR0ZuUzZv\";\n    controls = [\n        {\n            key: 'n',\n            label: 'Number of nails per side',\n            defaultValue: 82,\n            type: \"range\",\n            attr: {\n                min: 2,\n                max: 200,\n                step: 1\n            }\n        },\n        {\n            key: 'layers',\n            label: 'Layers',\n            defaultValue: 13,\n            type: \"range\",\n            attr: {\n                min: 1,\n                max: 20,\n                step: 1\n            }\n        },\n        {\n            key: 'angle',\n            label: 'Layer angle',\n            defaultValue: 30,\n            type: \"range\",\n            attr: {\n                min: 0,\n                max: 45,\n                step: 1\n            }\n        },\n        {\n            key: 'color1',\n            label: 'String #1 color',\n            defaultValue: \"#11e8bd\",\n            type: \"color\",\n        },\n        {\n            key: 'color2',\n            label: 'String #2 color',\n            defaultValue: \"#6fff52\",\n            type: \"color\",\n        },\n    ];\n\n    setUpDraw() {\n        super.setUpDraw();\n\n        const { n, angle } = this.config;\n\n        this.maxSize = Math.min(...this.size) - 2 * MARGIN;\n        this.nailSpacing = this.maxSize / (n - 1);\n        this.layerAngle = angle * Math.PI / 180;\n    }\n\n    // Sides: top, right, bottom, left\n    getPoint({index, angle, layerStart, rotation}) {\n        const theta = angle + rotation;\n\n        const point = { \n            x: layerStart.x, \n            y: layerStart.y + this.nailSpacing * index\n        };\n\n        const pivot = { x: this.center[0], y: this.center[1] };\n\n        const cosAngle = Math.cos(theta);\n        const sinAngle = Math.sin(theta);\n\n        const position = [\n            (cosAngle * (point.x - pivot.x) - sinAngle * (point.y - pivot.y) + pivot.x),\n            (sinAngle * (point.x - pivot.x) + cosAngle * (point.y - pivot.y) + pivot.y),\n        ];\n        return position;\n    }\n\n    *drawSide({ side, color = '#ffffff', angle, size, layerStart }) {\n        const sideIndex = SIDES.indexOf(side);\n        const nextSide = SIDES[sideIndex === SIDES.length - 1 ? 0 : sideIndex + 1];\n        const rotation = SIDES_ROTATION[side];\n        const nextSideRotation = SIDES_ROTATION[nextSide];\n        const nLayer = Math.floor(size / this.nailSpacing);\n        \n        const sideProps = { nLayer, size, layerStart, angle };\n        \n        for(let i=0; i <= nLayer; i++) {\n            this.ctx.beginPath();\n            this.ctx.moveTo(...this.getPoint({ side, index: i, rotation, ...sideProps}));\n            this.ctx.lineTo(...this.getPoint({side: nextSide, index: i, rotation: nextSideRotation, ...sideProps}));\n            this.ctx.strokeStyle = color;\n            this.ctx.stroke();\n            yield i;\n        }\n    }\n\n    *drawLayer(layer) {\n        const { color1, color2 } = this.config;\n        const colors = [color2, color1, color2, color1];\n        const layerAngle = this.layerAngle * layer;\n        const layerSize = this.maxSize / Math.pow(Math.cos(this.layerAngle) + Math.sin(this.layerAngle), layer);\n        const layerStart = { \n            x: this.center[0] - layerSize / 2, \n            y: this.center[1] - layerSize / 2\n        };\n\n        for (let i = 0; i < SIDES.length; i++) {\n            yield* this.drawSide({ \n                color: colors[i], \n                side: SIDES_ORDER[i],\n                angle: layerAngle,\n                size: layerSize,\n                layerStart,\n            });\n        }\n    }\n\n    *generateStrings() {\n        const {layers} =  this.config;\n        for(let layer=layers - 1; layer >= 0; layer--) {\n            yield* this.drawLayer(layer);\n        }\n    }\n\n    getStepCount() {\n        let count = 0;\n        const {layers, angle, n} = this.config;\n        const layerAngle = angle * Math.PI / 180;\n        const maxSize = Math.min(this.canvas.clientWidth, this.canvas.clientHeight) - 2 * MARGIN;\n        const nailSpacing = maxSize / (n - 1);\n\n        for(let layer = 0; layer < layers; layer++) {\n            const layerSize = maxSize / Math.pow(Math.cos(layerAngle) + Math.sin(layerAngle), layer);\n            count += 4 * (Math.floor(layerSize / nailSpacing) + 1)\n        }\n\n        return count;\n    }\n\n    drawNails() {\n        const {n} = this.config;\n\n        for(let i=0; i < 4; i++) {\n            const side = SIDES[i];\n            for (let nail = 0; nail < n; nail++) {\n               //this.nails.addNail({ point: this.getPoint({ side, index: nail })})\n            }\n        }\n    }\n}\n\nexport default Eye;","import Spirals from \"./string_art_types/Spirals.js\";\nimport Spiral from './string_art_types/Spiral.js';\nimport Eye from './string_art_types/Eye.js';\nimport TimesTables from './string_art_types/TimesTables.js';\nimport Star from \"./string_art_types/Star.js\";\n\nconst patternTypes = [TimesTables, Spirals, Spiral, Eye, Star];\n\nexport default patternTypes;","import StringArt from \"../StringArt.js\";\nimport Circle from \"./Circle.js\";\n\nconst MARGIN = 20;\n\nexport default class TimesTables extends StringArt{\n    name = \"Times Tables\";\n    id = \"times_tables\";\n    link = \"https://www.youtube.com/watch?v=LWin7w9hF-E&ab_channel=Jorgedelatierra\";\n    controls = [\n        {\n            key: 'n',\n            label: 'Number of nails',\n            defaultValue: 180,\n            type: \"range\",\n            attr: {\n                min: 3,\n                max: 240,\n                step: 1\n            }\n        },\n        {\n            key: 'base',\n            label: 'Multiplication',\n            defaultValue: 2,\n            type: \"range\",\n            attr: {\n                min: 2,\n                max: 99,\n                step: 1\n            }\n        },\n        {\n            key: 'layers',\n            label: 'Layers',\n            defaultValue: 7,\n            type: \"range\",\n            attr: {\n                min: 1,\n                max: 20,\n                step: 1\n            }\n        },\n        {\n            key: 'colorGroup',\n            label: 'Color',\n            type: 'group',\n            children: [\n                {\n                    key: 'multicolor',\n                    label: 'Use multiple colors',\n                    defaultValue: true,\n                    type: \"checkbox\",\n                },\n                {\n                    key: 'multicolorRange',\n                    label: 'Multicolor range',\n                    defaultValue: 180,\n                    type: \"range\",\n                    attr: {\n                        min: 1,\n                        max: 360,\n                        step: 1\n                    },\n                    show: ({multicolor}) => multicolor,\n                },\n                {\n                    key: 'multicolorStart',\n                    label: 'Multicolor start',\n                    defaultValue: 256,\n                    type: \"range\",\n                    attr: {\n                        min: 0,\n                        max: 360,\n                        step: 1\n                    },\n                    show: ({multicolor}) => multicolor,\n                },\n                {\n                    key: 'color',\n                    label: 'String color',\n                    defaultValue: \"#ff4d00\",\n                    type: \"color\",\n                    show: ({multicolor}) => !multicolor\n                },\n            ]\n        },\n    ];\n\n    get n() {\n        if (!this._n) {\n            const {n, layers} = this.config;\n            const extraNails = n % layers;\n            this._n = n - extraNails; // The number of nails should be a multiple of the layers, so the strings are exactly on the nails.\n        }\n\n        return this._n;\n    }\n\n    setUpDraw() {\n        this._n = null;\n        super.setUpDraw();\n\n        const {layers, multicolorRange} = this.config;\n        this.circle = new Circle({\n            size: this.size,\n            n: this.n,\n            margin: MARGIN\n        });\n        this.multiColorStep = multicolorRange / layers;\n        this.layerShift = Math.floor(this.n / layers);\n    }\n\n    *drawTimesTable({ shift = 0, color = \"#f00\", steps, time }) {\n        const {base} = this.config;\n        const n = this.n;\n        const stepsToRender = steps ?? n;\n\n        let point = this.circle.getPoint(shift);\n\n        for(let i=1; i <= stepsToRender; i++) {\n            this.ctx.beginPath();\n            this.ctx.moveTo(...point);\n            point = this.circle.getPoint(i + shift);\n            this.ctx.lineTo(...point);\n            const toIndex = (i * base) % n;\n            this.ctx.lineTo(...this.circle.getPoint(toIndex + shift));\n            this.ctx.strokeStyle = color;\n            this.ctx.stroke();\n            \n            yield { instructions: `${i - 1} → ${i} → ${toIndex} → ${i}`, index: time * n + i };\n        }\n    }\n\n    *generateStrings() {\n        const {color, multicolor, layers} = this.config;\n\n        for(let time = 0; time < layers; time++) {\n            const timeColor = multicolor ? this.getTimeColor(time, layers) : color;\n            yield* this.drawTimesTable({ \n                time,\n                color: timeColor, \n                shift: this.layerShift * time,\n            });\n        }\n    }\n\n    drawNails() {\n        this.circle.drawNails(this.nails);\n    }\n\n    getTimeColor(time) {\n        const {multicolorStart, darkMode} = this.config;\n\n        return `hsl(${multicolorStart + time * this.multiColorStep}, 80%, ${darkMode ? 50 : 40}%)`;\n    }\n\n    getStepCount() {\n        return this.config.layers * this.n;\n    }\n}\n            ","import StringArt from \"../StringArt.js\";\nimport Circle from \"./Circle.js\";\n\nexport default class Spiral extends StringArt{\n    id = \"spiral\";\n    name = \"Spiral\";\n    link = \"https://www.etsy.com/il-en/listing/943140543/personalized-gift-string-art-mandala?ref=sim_rv-5&pro=1\";\n    controls = [\n        {\n            key: 'n',\n            label: 'Number of nails',\n            defaultValue: 144,\n            type: \"range\",\n            attr: {\n                min: 3,\n                max: 200,\n                step: 1\n            }\n        },\n        {\n            key: 'repetition',\n            label: 'Repetition',\n            defaultValue: 2,\n            type: \"range\",\n            attr: {\n                min: 1,\n                max: 60,\n                step: 1\n            }\n        },\n        {\n            key: 'innerLength',\n            label: 'Spiral thickness',\n            defaultValue: 72,\n            type: \"range\",\n            attr: {\n                min: 1,\n                max: 144,\n                step: 1,\n            }\n        },\n        {\n            key: 'rotation',\n            label: 'Rotation',\n            defaultValue: 0.49,\n            type: \"range\",\n            attr: {\n                min: 0,\n                max: 1,\n                step: 0.01,\n            }\n        },\n        {\n            key: 'layers',\n            label: 'Layers',\n            defaultValue: 9,\n            type: \"range\",\n            attr: {\n                min: 1,\n                max: 20,\n                step: 1\n            }\n        },\n        {\n            key: 'layerSpread',\n            label: 'Layer spread',\n            defaultValue: 13,\n            type: \"range\",\n            attr: {\n                min: 1,\n                max: 200,\n                step: 1\n            }\n        },\n        {\n            key: 'colorGroup',\n            label: 'Color',\n            type: 'group',\n            children: [\n                {\n                    key: 'multicolorRange',\n                    label: 'Multicolor range',\n                    defaultValue: 216,\n                    type: \"range\",\n                    attr: {\n                        min: 1,\n                        max: 360,\n                        step: 1\n                    },\n                },\n                {\n                    key: 'multicolorStart',\n                    label: 'Multicolor start',\n                    defaultValue: 263,\n                    type: \"range\",\n                    attr: {\n                        min: 0,\n                        max: 360,\n                        step: 1\n                    },\n                },\n                {\n                    key: 'multicolorByLightness',\n                    label: 'Multicolor by lightness',\n                    defaultValue: true,\n                    type: 'checkbox'\n                }\n            ]\n        }\n    ];\n\n    setUpDraw() {\n        super.setUpDraw();\n        const { n, rotation } = this.config;\n\n        this.circle = new Circle({\n            size: this.size,\n            n,\n            rotation,\n            margin: 20,\n        });\n        const {layers, multicolorRange, multicolorByLightness, layerSpread} = this.config;\n        this.multiColorStep = multicolorRange / layers;\n        this.multiColorLightnessStep = multicolorByLightness ? 100 / layers : 1;\n        this.layerShift = layerSpread;\n    }\n\n    *drawSpiral({ shift = 0, color = \"#f00\" } = {}) {\n        const {repetition, innerLength} = this.config;\n        \n        this.ctx.moveTo(...this.circle.getPoint(shift));\n        \n        let currentInnerLength = innerLength;\n        let repetitionCount = 0;\n        this.ctx.strokeStyle = color;\n        \n        for(let i=0; currentInnerLength; i++) {\n            this.ctx.beginPath();\n            this.ctx.lineTo(...this.circle.getPoint(i + currentInnerLength + shift));\n            this.ctx.lineTo(...this.circle.getPoint(i + 1 + shift));\n            this.ctx.stroke();\n\n            repetitionCount++;\n            if (repetitionCount === repetition) {\n                currentInnerLength--;\n                repetitionCount = 0;\n            }\n\n            yield i;\n        }\n      \n    }\n\n    *generateStrings() {\n        const { layers } = this.config;\n        for(let layer = 0; layer < layers; layer++) {\n            yield* this.drawSpiral({ \n                color: this.getLayerColor(layer), \n                shift: -this.layerShift * layer \n            });\n        }\n    }\n\n    getLayerColor(layer) {\n        const {multicolorStart, darkMode, multicolorByLightness} = this.config;\n        const lightness = multicolorByLightness ? this.multiColorLightnessStep * layer : darkMode ? 50 : 40;\n\n        return `hsl(${multicolorStart + layer * this.multiColorStep}, 80%, ${lightness}%)`;\n    }\n\n    getStepCount() {\n        const {innerLength, repetition, layers} = this.config;\n        return layers * innerLength * repetition;\n    }\n\n    drawNails() {\n        this.circle.drawNails(this.nails);\n    }\n}","import StringArt from \"../StringArt.js\";\nimport Circle from \"./Circle.js\";\n\nconst MARGIN = 20;\n\nexport default class Star extends StringArt{\n    name = \"Star\";\n    id = \"star\";\n    link = \"https://www.etsy.com/listing/557818258/string-art-meditation-geometric-yoga?epik=dj0yJnU9Mm1hYmZKdks1eTc3bVY2TkVhS2p2Qlg0N2dyVWJxaTEmcD0wJm49MGlWSXE1SVJ2Vm0xZ0xtaGhITDBWQSZ0PUFBQUFBR0Zwd2lj\";\n    controls = [\n        {\n            key: 'sides',\n            label: 'Sides',\n            defaultValue: 3,\n            type: 'range',\n            attr: {\n                min: 3,\n                max: 20,\n                step: 1\n            }\n        },\n        {\n            key: 'sideNails',\n            label: 'Nails per side',\n            defaultValue: 40,\n            type: \"range\",\n            attr: {\n                min: 1,\n                max: 200,\n                step: 1\n            }\n        },\n        {\n            key: 'rotation',\n            label: 'Rotation',\n            defaultValue: 0,\n            type: \"range\",\n            attr: {\n                min: 0,\n                max: 1,\n                step: 0.01,\n            }\n        },\n        {\n            key: 'colorGroup',\n            label: 'Color',\n            type: 'group',\n            children: [\n                {\n                    key: 'innerColor',\n                    label: 'Star color',\n                    defaultValue: \"#2ec0ff\",\n                    type: \"color\",\n                },\n                {\n                    key: 'outterColor',\n                    label: 'Outter color',\n                    defaultValue: \"#2a82c6\",\n                    type: \"color\",\n                },\n            ]\n        }\n    ];\n\n    get n() {\n        if (!this._n) {\n            const {n, sides} = this.config;\n            const extraNails = n % sides;\n            this._n = n - extraNails;\n        }\n\n        return this._n;\n    }\n\n    setUpDraw() {\n        this._n = null;\n        super.setUpDraw();\n\n        const { sides, rotation, sideNails } = this.config;\n        this.circle = new Circle({\n            size: this.size,\n            n: sideNails * sides,\n            margin: MARGIN,\n            rotation,\n        });\n\n        this.sideAngle = Math.PI * 2 / sides;\n        this.nailSpacing = this.circle.radius / sideNails;\n        this.starCenterStart = (sideNails % 1) * this.nailSpacing;     \n\n        this.sides = new Array(sides).fill(null).map((_, side) => {\n            const sideAngle = side * this.sideAngle + this.circle.rotationAngle;\n            const circlePointsStart = side * sideNails;\n\n            return {\n                sinSideAngle: Math.sin(sideAngle),\n                cosSideAngle: Math.cos(sideAngle),\n                circlePointsStart,\n                circlePointsEnd: circlePointsStart + sideNails\n            };\n        });\n    }\n\n    getStarPoint({ side, sideIndex }) {\n        const radius = this.starCenterStart + sideIndex * this.nailSpacing;\n        const {sinSideAngle, cosSideAngle} = this.sides[side];\n        const [centerX, centerY] = this.circle.center;\n\n        return [\n            centerX + sinSideAngle * radius,\n            centerY + cosSideAngle * radius\n        ];\n    }\n\n    *generateStarPoints({ reverseOrder  = false} = {}) {\n        const {sides, sideNails} = this.config;\n\n        for (let side = 0; side < sides; side++) {\n            const prevSide = side === 0 ? sides - 1 : side - 1;\n            for (let i=0; i < sideNails; i++) {\n                const sideIndex = reverseOrder ? sideNails - i : i;\n                yield { side, prevSide, sideIndex, point: this.getStarPoint({ side, sideIndex }) };\n            }\n        }\n    }\n\n    *drawStar() {\n        const {innerColor, sideNails} = this.config;\n\n        this.ctx.strokeStyle = innerColor;\n        let prevPoint;\n\n        for (const { prevSide, sideIndex, point} of this.generateStarPoints()) {\n            this.ctx.beginPath();\n\n            if (sideIndex && !(sideIndex % 2)) {\n                this.ctx.moveTo(...prevPoint);\n                this.ctx.lineTo(...point);\n            } else {\n                this.ctx.moveTo(...point);\n            }\n\n            const prevSideIndex = sideNails - sideIndex;\n            this.ctx.lineTo(...this.getStarPoint({ side: prevSide, sideIndex: prevSideIndex}))\n            prevPoint = point;\n            this.ctx.stroke();\n            yield;\n        }\n    }\n\n    *drawCircle() {\n        const {outterColor, sides} = this.config;\n\n        let prevCirclePoint;\n        let isPrevSide = false;\n        this.ctx.strokeStyle = outterColor;\n        for (const { side, prevSide, sideIndex, point} of this.generateStarPoints({ reverseOrder: true })) {\n            this.ctx.beginPath();\n            if (!prevCirclePoint) {\n                prevCirclePoint = this.circle.getPoint(this.sides[prevSide].circlePointsStart);\n            }\n           \n            this.ctx.moveTo(...prevCirclePoint);\n\n            this.ctx.lineTo(...point);\n            this.ctx.stroke();\n\n            yield;\n\n            this.ctx.beginPath();\n            this.ctx.moveTo(...point);\n            const nextPointIndex = isPrevSide \n                ? this.sides[prevSide].circlePointsEnd - sideIndex \n                : this.sides[side].circlePointsStart + sideIndex;\n\n            const nextPoint = this.circle.getPoint(nextPointIndex);\n            this.ctx.lineTo(...nextPoint);\n\n            prevCirclePoint = this.circle.getPoint(isPrevSide \n                ? this.sides[prevSide].circlePointsEnd - sideIndex + 1\n                : this.sides[side].circlePointsStart + sideIndex - 1);\n\n            this.ctx.lineTo(...prevCirclePoint);\n\n            this.ctx.stroke();\n            isPrevSide = !isPrevSide;\n            yield;\n        }\n    }\n\n    *generateStrings() {\n        yield* this.drawCircle();\n        yield* this.drawStar();\n    }\n\n    drawNails() {\n        this.circle.drawNails(this.nails);\n\n        for (const {point} of this.generateStarPoints()) {\n            this.nails.addNail({ point });\n        }\n\n        this.circle.drawNails(this.nails);\n    }\n\n    getStepCount() {\n        const {sides, sideNails} = this.config;\n        const starCount = sideNails * sides;\n        return starCount * 3; // Once for each side + two more times for the side's circle\n    }\n}","import Player from \"./Player.js\";\nimport patternTypes from \"./pattern_types.js\";\n\nconst elements = {\n    canvas: document.querySelector(\"canvas\"),\n    patternSelector: document.querySelector(\"#pattern_select\"),\n    controls: document.querySelector(\"#controls\"),\n    patternLink: document.querySelector(\"#pattern_link\"),\n    size: {\n        sizeSelect: document.querySelector(\"#size_select\"),\n        sizeCustom: document.querySelector(\"#size_custom\"),\n        width: document.querySelector(\"#size_custom_width\"),\n        height: document.querySelector(\"#size_custom_height\"),\n    }\n};\n\nfunction cmToPixels(cm, dpi = 300) {\n    return Math.floor(cm / 2.54 * dpi);\n}\n\nconst SCREEN_SIZE = [\n    window.screen.width * window.devicePixelRatio,\n    window.screen.height * window.devicePixelRatio,\n];\n\nconst SIZES = [\n    { id: 'fit', name: 'Fit to screen' },\n    { id: 'A4', value: [20, 28].map(v => cmToPixels(v)) },\n    { id: 'A3', value: [28, 40].map(v => cmToPixels(v)) },\n    { id: 'screen', name: `Screen size (${SCREEN_SIZE.join('x')})`, value: SCREEN_SIZE},\n    { id: 'custom', name: 'Custom...' }\n];\n\nconst patterns = patternTypes.map(Pattern => new Pattern(elements.canvas));\n\nlet currentPattern;\nlet inputTimeout;\nconst player = new Player(document.querySelector(\"#player\"))\n\nmain();\n\nfunction main() {\n    initControls();\n    initRouting();\n    initSize();\n\n    if (history.state?.pattern) {\n        updateState(history.state);\n    } else {\n        const queryParams = new URLSearchParams(document.location.search);\n        const queryPattern = queryParams.get('pattern');\n\n        if (queryPattern) {\n            const config = queryParams.get('config');\n            updateState({ pattern: queryPattern, config })\n        } else {\n            selectPattern(patterns[0]);\n        }\n    }\n\n    window.addEventListener(\"resize\", () =>\n        currentPattern.draw()\n    );\n\n    elements.canvas.addEventListener('click', () => {\n        player.toggle();\n    });\n}\n\nfunction initControls() {\n    elements.controls.addEventListener(\"input\", (e) => {\n        requestAnimationFrame(() => {\n            clearTimeout(inputTimeout);\n\n            const inputValue = getInputValue(e.target.type, e.target);\n            const controlKey = e.target.id.replace(/^config_/, '');\n\n            currentPattern.config = Object.freeze({\n                ...currentPattern.config,\n                [controlKey]: inputValue\n            });\n            const inputValueEl = document.querySelector(\"#\" + e.target.id + \"_value\");\n            if (inputValueEl) {\n                inputValueEl.innerText = e.target.value;\n            }\n\n            currentPattern.draw();\n\n            inputTimeout = setTimeout(() => {\n                player.update(currentPattern, { goToEnd: false });\n                const configQuery = JSON.stringify(currentPattern.config)\n                history.replaceState({\n                    pattern: currentPattern.id,\n                    config: configQuery\n                }, currentPattern.name, `?pattern=${currentPattern.id}&config=${encodeURIComponent(configQuery)}`);\n                updateControlsVisibility();\n            }, 100);\n        });\n    })\n\n    patterns.forEach(pattern => {\n        const option = document.createElement('option');\n        option.innerText = pattern.name;\n        option.value = pattern.id;\n        elements.patternSelector.appendChild(option);\n    });\n\n    elements.patternSelector.addEventListener('change', e => {\n        const patternId = e.target.value;\n        selectPattern(findPatternById(patternId));\n        history.pushState({ pattern: patternId }, patternId, \"?pattern=\" + patternId)\n    });\n}\n\nfunction initSize() {\n    const sizeOptionsFragment = document.createDocumentFragment();\n    SIZES.forEach(size => {\n        const sizeListItem = document.createElement('option');\n        sizeListItem.setAttribute('value', size.id);\n        sizeListItem.innerText = size.name ?? size.id;\n        sizeOptionsFragment.appendChild(sizeListItem);\n    });\n    elements.size.sizeSelect.appendChild(sizeOptionsFragment);\n\n    elements.size.sizeSelect.addEventListener(\"change\", e => {\n        const selectedSizeId = e.target.value;\n        const size = SIZES.find(({id}) => id === selectedSizeId);\n\n        if (size.id === \"custom\") {\n            elements.size.sizeCustom.removeAttribute('hidden');\n            elements.size.width.value = elements.canvas.clientWidth;\n            elements.size.height.value = elements.canvas.clientHeight;\n        } else {\n            elements.size.sizeCustom.setAttribute('hidden', 'hidden');\n            elements.canvas.removeAttribute('width');\n            elements.canvas.removeAttribute('height');\n            elements.canvas.removeAttribute('style');\n            const value = size.value instanceof Function ? size.value() : size.value;\n            if (value) {\n                const [width, height] = value;\n                setSize(width, height);\n            } else {\n                currentPattern.draw();\n            }\n        }\n    });\n\n    elements.size.sizeCustom.addEventListener(\"focusin\", e => {\n        e.target.select();\n    });\n\n    elements.size.sizeCustom.addEventListener('input', e => {\n        setSize(\n            parseInt(elements.size.width.value),\n            parseInt(elements.size.height.value)\n        )\n    });\n\n    function setSize(width, height) {\n        elements.canvas.style.width = `${width}px`;\n        elements.canvas.style.height = `${height}px`;\n        currentPattern.draw();\n    }\n}\n\nfunction initRouting() {\n    window.addEventListener('popstate', ({state}) => {\n        updateState(state);\n    });\n}\n\nfunction updateState(state) {\n    const pattern = findPatternById(state.pattern);\n    elements.patternSelector.value = pattern.id;\n    selectPattern(pattern, {\n        draw: false,\n        config: state.config ? JSON.parse(state.config) : null\n    });\n\n    currentPattern.draw();\n    updateInputs(currentPattern.config);\n}\n\nfunction updateInputs(config) {\n    Object.entries(config).forEach(([key, value]) => {\n        const inputEl = document.querySelector(`#config_${key}`);\n        if (inputEl) {\n            const inputValueEl = document.querySelector(`#config_${key}_value`);\n\n            if (inputEl.type === \"checkbox\") {\n                inputEl.checked = value;\n            } else {\n                inputEl.value = value;\n            }\n            if (inputValueEl) {\n                inputValueEl.innerText = value;\n            }\n        }\n    });\n}\n\nfunction findPatternById(patternId) {\n    const pattern = patterns.find(({id}) => id === patternId);\n    if (!pattern) {\n        throw new Error(`Pattern with id \"${patternId} not found!`);\n    }\n    return pattern;\n}\n\nfunction selectPattern(pattern, { config, draw = true} = {}) {\n    currentPattern = pattern;\n    if (config) {\n        currentPattern.config = config;\n    }\n\n    renderControls();\n    elements.patternLink.setAttribute(\"href\", pattern.link);\n    if (draw) {\n        currentPattern.draw();\n    }\n    player.update(currentPattern);\n    document.title = `${pattern.name} - String Art Studio`;\n}\n\nfunction getInputValue(type, inputElement) {\n    switch(type) {\n        case 'range':\n            return parseFloat(inputElement.value);\n        case 'checkbox':\n            return inputElement.checked;\n        default:\n            return inputElement.value;\n    }\n}\n\nfunction updateControlsVisibility(configControls = currentPattern.configControls) {\n    configControls.forEach(control => {\n        if (control.show) {\n            const shouldShowControl = control.show(currentPattern.config);\n            const controlEl = document.querySelector(`#control_${control.key}`);\n            if (controlEl) {\n                if (shouldShowControl) {\n                    controlEl.removeAttribute('hidden');\n                } else {\n                    controlEl.setAttribute('hidden', 'hidden');\n                }\n            }\n        }\n\n        if (control.isDisabled) {\n            const shouldDisableControl = control.isDisabled(currentPattern.config);\n            const inputEl = document.querySelector(`#config_${control.key}`);\n            if (inputEl) {\n                if (shouldDisableControl) {\n                    inputEl.setAttribute('disabled', 'disabled');\n                } else {\n                    inputEl.removeAttribute('disabled');\n                }\n            }\n        }\n\n        if (control.children) {\n            updateControlsVisibility(control.children);\n        }\n    });\n}\n\nfunction renderControls(containerEl = elements.controls, configControls = currentPattern.configControls) {\n    containerEl.innerHTML = \"\";\n    const controlsFragment = document.createDocumentFragment();\n\n    configControls.forEach(control => {\n        const controlId = `config_${control.key}`;\n        let controlEl;\n\n        if (control.type === \"group\") {\n            controlEl = document.createElement(\"fieldset\");\n            const groupTitleEl = document.createElement(\"legend\");\n            groupTitleEl.innerText = control.label;\n            controlEl.appendChild(groupTitleEl);\n            controlEl.className = \"control control_group\";\n            const childrenContainer = document.createElement('div');\n            controlEl.appendChild(childrenContainer);\n            renderControls(childrenContainer, control.children);\n        }\n        else {\n            controlEl = document.createElement(\"div\");\n            controlEl.className = \"control\";\n\n            const label = document.createElement(\"label\");\n            label.innerHTML = control.label;\n            label.setAttribute(\"for\", controlId);\n\n            const inputEl = document.createElement(\"input\");\n\n            inputEl.setAttribute(\"type\", control.type);\n            const inputValue = currentPattern.config[control.key] ?? control.defaultValue;\n\n            if (control.attr) {\n                Object.entries(control.attr).forEach(([attr, value]) => {\n                    const realValue = value instanceof Function ? value(currentPattern) : value;\n                    inputEl.setAttribute(attr, realValue)\n                });\n            }\n\n            if (control.type === \"checkbox\") {\n                inputEl.checked = inputValue;\n                controlEl.appendChild(inputEl);\n                controlEl.appendChild(label);\n            } else {\n                controlEl.appendChild(label);\n                controlEl.appendChild(inputEl);\n                inputEl.value = inputValue;\n                const inputValueEl = document.createElement('span');\n                inputValueEl.id = `config_${control.key}_value`;\n                inputValueEl.innerText = inputValue;\n                inputValueEl.className = \"control_input_value\";\n                controlEl.appendChild(inputValueEl);\n            }\n            inputEl.id = controlId;\n        }\n\n        controlEl.id = `control_${control.key}`;\n        controlsFragment.appendChild(controlEl);\n    });\n\n    containerEl.appendChild(controlsFragment);\n    requestAnimationFrame(() => updateControlsVisibility())\n}\n","export default class Player {\n    constructor(parentEl) {\n        this.elements = {\n            player: parentEl,\n            step: parentEl.querySelector('#step'),\n            stepInstructions: parentEl.querySelector('#step_instructions'),\n            playerPosition: parentEl.querySelector('#player_position'),\n            playBtn: parentEl.querySelector('#play_btn'),\n            pauseBtn: parentEl.querySelector('#pause_btn')\n        };\n        this.stepCount = 0;\n\n        this.elements.playerPosition.addEventListener('input', ({ target }) => {\n            this.setPosition(+target.value)\n        });\n\n        this.elements.playBtn.addEventListener('click', () => {\n            this.play();\n            this.togglePlaying();\n        });\n\n        this.elements.pauseBtn.addEventListener('click', () => {\n            this.pause();\n            this.togglePlaying();\n        });\n    }\n\n    togglePlaying() {\n        this.elements.player.classList.toggle('playing');\n        this._isPlaying = !this._isPlaying;\n    }\n\n    update(stringArt) {\n        this.stringArt = stringArt;\n        this.stepCount = stringArt.getStepCount();\n        this.elements.playerPosition.setAttribute('max', this.stepCount);\n        this.setPosition(this.stepCount);\n    }\n\n    updatePosition(position) {\n        this.elements.step.innerText = `${position}/${this.stepCount}`;\n        this.elements.playerPosition.value = position;\n    }\n    setPosition(position) {\n        this.updatePosition(position);\n        this.stringArt.goto(position);\n    }\n\n    setInstructions(instructions) {\n        this.elements.stepInstructions.innerText = instructions;\n    }\n\n    play() {\n        this._isPlaying = true;\n        cancelAnimationFrame(this.renderRafId);\n\n        if (this.stringArt.position === this.stepCount) {\n            this.stringArt.goto(0);\n        }\n\n        const self = this;\n\n        step();\n            \n        function step() {\n            if (!self.stringArt.drawNext().done) {\n                self.renderRafId = requestAnimationFrame(step);\n            } else {\n                self.togglePlaying();\n            }\n            self.updatePosition(self.stringArt.position);\n        }\n    }\n\n    pause() {\n        cancelAnimationFrame(this.renderRafId);\n        this._isPlaying = false;\n    }\n\n    toggle() {\n        if (this._isPlaying) {\n            this.pause();\n        } else {\n            this.play();\n        }\n    }\n}"],"names":["$a8180031c78213da$var$PI2","Math","PI","canvas","config","this","context","getContext","setConfig","nails","nailRadius","darkMode","nailsColor","addNail","nail","push","fill","globalCompositeOperation","beginPath","forEach","point","x","y","moveTo","arc","fillStyle","$65e05ee91a8797e3$var$COMMON_CONFIG_CONTROLS","key","label","type","children","defaultValue","isDisabled","showNails","showStrings","attr","min","max","step","show","customBackgroundColor","$65e05ee91a8797e3$var$flattenConfig","configControls","reduce","$65e05ee91a8797e3$export$2e2bcd8739ae039","Error","ctx","dpr","window","devicePixelRatio","bsr","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","controls","concat","defaultConfig","_defaultConfig","_config","value","Object","assign","setUpDraw","removeAttribute","canvasScreenSize","clientWidth","clientHeight","width","height","size","map","v","setAttribute","center","$a8180031c78213da$export$2e2bcd8739ae039","clearRect","lineWidth","stringWidth","afterDraw","drawNails","initDraw","backgroundColor","fillRect","draw","position","Infinity","stringsIterator","generateStrings","drawNext","done","goto","result","next","getStepCount","name","$17fe1039ca333e84$export$2e2bcd8739ae039","id","link","n","radiusIncrease","angleStep","nSpirals","currentRadius","angle","centerx","centery","i","s","rotation","sin","cos","points","generatePoints","index","strokeStyle","color","lastPoint","lineTo","stroke","number","$188437ce07b37c18$var$PI2","margin","radius","indexAngle","rotationAngle","getPoint","$f11ad0f2a18da5c9$var$SIDES","$f11ad0f2a18da5c9$var$SIDES_ORDER","$f11ad0f2a18da5c9$var$SIDES_ROTATION","left","bottom","right","top","$f11ad0f2a18da5c9$export$2e2bcd8739ae039","super","maxSize","nailSpacing","layerAngle","layerStart","theta","pivot","cosAngle","sinAngle","side","sideIndex","indexOf","nextSide","length","nextSideRotation","nLayer","floor","sideProps","layer","color1","color2","colors","layerSize","pow","drawSide","layers","drawLayer","count","$8b13425f1e264518$export$2e2bcd8739ae039","multicolor","_n","extraNails","multicolorRange","circle","$188437ce07b37c18$export$2e2bcd8739ae039","multiColorStep","layerShift","shift","steps","time","base","stepsToRender","toIndex","instructions","timeColor","getTimeColor","drawTimesTable","multicolorStart","multicolorByLightness","layerSpread","multiColorLightnessStep","repetition","innerLength","currentInnerLength","repetitionCount","drawSpiral","getLayerColor","lightness","sides","sideNails","sideAngle","starCenterStart","Array","_","circlePointsStart","sinSideAngle","cosSideAngle","circlePointsEnd","getStarPoint","centerX","centerY","reverseOrder","prevSide","innerColor","prevPoint","generateStarPoints","prevSideIndex","outterColor","prevCirclePoint","isPrevSide","nextPointIndex","nextPoint","drawCircle","drawStar","$52852adbc3c0b381$var$elements","document","querySelector","patternSelector","patternLink","sizeSelect","sizeCustom","$52852adbc3c0b381$var$cmToPixels","cm","dpi","$52852adbc3c0b381$var$SCREEN_SIZE","screen","$52852adbc3c0b381$var$SIZES","join","$52852adbc3c0b381$var$patterns","Pattern","$52852adbc3c0b381$var$currentPattern","$52852adbc3c0b381$var$inputTimeout","$52852adbc3c0b381$var$player","parentEl","elements","player","stepInstructions","playerPosition","playBtn","pauseBtn","stepCount","addEventListener","target","setPosition","play","togglePlaying","pause","classList","toggle","_isPlaying","update","stringArt","updatePosition","innerText","setInstructions","cancelAnimationFrame","renderRafId","self","requestAnimationFrame","$52852adbc3c0b381$var$updateState","state","pattern","$52852adbc3c0b381$var$findPatternById","$52852adbc3c0b381$var$selectPattern","JSON","parse","entries","inputEl","inputValueEl","checked","patternId","find","$52852adbc3c0b381$var$renderControls","title","$52852adbc3c0b381$var$updateControlsVisibility","control","shouldShowControl","controlEl","shouldDisableControl","containerEl","innerHTML","controlsFragment","createDocumentFragment","controlId","createElement","groupTitleEl","appendChild","className","childrenContainer","inputValue","realValue","Function","e","clearTimeout","inputElement","parseFloat","$52852adbc3c0b381$var$getInputValue","controlKey","replace","freeze","setTimeout","goToEnd","configQuery","stringify","history","replaceState","encodeURIComponent","option","pushState","$52852adbc3c0b381$var$initControls","$52852adbc3c0b381$var$initRouting","sizeOptionsFragment","setSize","style","sizeListItem","selectedSizeId","select","parseInt","$52852adbc3c0b381$var$initSize","queryParams","URLSearchParams","location","search","queryPattern","get","$52852adbc3c0b381$var$main"],"version":3,"file":"index.c4ecd3f6.js.map"}